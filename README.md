# 项目描述
仿商城做的一个系统，电商或电商类型的服务在目前来看依旧是非常常用，虽然纯电商的创业已经不太容易，但是各个公司都有变现的需要，所以在自身应用中嵌入电商功能是非常普遍的做法。
          为了让大家掌握企业开发特点，以及解决问题的能力，我们开发一个电商项目，项目会涉及非常有代表性的功能。
          为了让大家掌握公司协同开发要点，我们使用git管理代码。
          在项目中会使用很多前面的知识，比如架构、维护等等。
          
#主要功能模块

系统包括：
后台：品牌管理、商品分类管理、商品管理、订单管理、系统管理和会员管理六个功能模块。
前台：首页、商品展示、商品购买、订单管理、在线支付等。

# 系统功能模块
品牌管理：
商品分类管理：
商品管理：
账号管理：
权限管理：
菜单管理：
订单管理：

# 流程
自动登录流程
购物车流程
订单流程

# 设计要点(数据库和页面交互)

系统前后台设计：前台www.yiishop.com 后台admin.yiishop.com 对url地址美化
商品无限级分类设计：
购物车设计

# 品牌功能模块
品牌管理功能涉及品牌的列表展示、品牌添加、修改、删除功能。
品牌需要保存缩略图和简介。
品牌删除使用逻辑删除。

# 要点难点及解决方案
1.删除使用逻辑删除,只改变status属性,不删除记录
2.使用uploadify插件,提升用户体验
3.使用composer下载和安装uploadify
4.composer安装插件报错,解决办法:
composer global require "fxp/composer-asset-plugin:^1.2.0"
5.注册七牛云账号

2017.11.03

实现品牌列表功能模块

# 文章分类管理需求

创建分类article_category表，字段，分类名称、简介、状态、排序、是否是帮助相关的分类

创建管理article表，字段、文章名称、文章分类id、简介、状态(1=是&0=否)、排序、录入时间

创建内容article_detail表，字段，文章管理id、文章内容

# 遇到的错误
七牛云 $_FILE['file']['tmp_name']

# 难点
文章内容表和文章管理表的关联

2017.11.04

# 商品分类需求
### 流程

创建商品分类表

商品分类的增删改查

利用yii2 tree_grid创建树形

难点：

树形编辑的回显

# 商品模块需求

创建商品goods表

创建商品详情表goods_detail

创建商品相册表goods_images

创建每天新建了多少商品表Goods_day_count

# 流程

1. 商品表，连上详情表，相册表一起做增删改查
2. 新增商品自动生成sn，goods_day_count里面的day做前面的编号，count是当天的新增次数
3. 在操作栏添加一个查看详细内容，详细内容只查看，不做其他操作

# 难点

多图回显

编辑时要把数据库里面对应的图片删除再提交

# 商品管理和登录

### 商品管理流程
1. 创建商品管理表
2. 商品管理表的增删改查
3. 分页
4. 搜索
5. 添加中图片上传到七牛云
6. 多文件上传到七牛云
7. 添加详情用百度富文本编辑器

# 难点
搜索，搜索时新搜索一条，地址栏就会新增一个地址，如果不处理地址栏就会无限增长

### 登录流程
1. 创建管理员表
2. 管理员表的增删改查
3. 验证登录信息
4. 保存登录信息
5. 自动添加创建时间，最后一次登录时间，最后一次登录ip
6. 密码加密
7. 验证用户和密码
8. 退出登录
9. 配置模型

# 难点
验证密码和用户名

2017.11.09

# 管理员模块

### 需求

1. 创建管理员
2. 管理员登录
3. 管理员注销
4. 管理员自动登录

### 流程
1. 创建角色表
2. 创建权限表

### 难点

权限

# 前台用户模块

### 需求

1. 用阿里大于短信验证
2. 创建member用户表
3. 用户注册
4. 用户登录
5. 用户退出

### 流程
1. 创建member用户表
2. composer下载阿里大于插件(已和阿里云合并)
3. 复制登录和注册页面的前台页面

### 难点

1. 阿里大于短信验证
2. 前台页面的拉取
3. 用户注册的验证

# 首页/商品详情页/购物车页面

### 需求

1. 首页显示商品
2. 详情页显示商品的详细内容
3. 在没有登录时，购物车存cookie，登录时购物车存数据库，购物车的数据同步到数据库，然后清空未登录时的购物车，结算时可以删除商品，可以添加商品数量，自动计算价格

### 流程

1. 取出商品表的数据，显示在首页
2. 取出商品详情表的数据，显示在商品详情页
3. 创建购物车表，登录时存数据进去

### 难点

1. 购物车
2. 购物车添加商品数量
3. 登录时同步数据
4. 删除
5. 封装



